---
applyTo: '**/*.dart'
---

# Flutter代码风格指南

## 代码格式化规则

请遵循以下Flutter/Dart代码风格规范：

1. 使用2个空格缩进，不使用制表符
2. 行长度限制在80个字符以内
3. 每个文件末尾留一个空行
4. 导入语句按以下顺序排列：
   - dart标准库导入
   - flutter库导入
   - 第三方库导入
   - 项目内部导入
5. 使用尾随逗号以保持一致的格式
6. 使用单引号作为字符串文字的默认选择

## 命名约定

1. 类名、枚举、扩展、混入使用UpperCamelCase（如：UserRepository）
2. 变量、常量、参数、函数名使用lowerCamelCase（如：userId）
3. 文件名使用snake_case（如：user_repository.dart）
4. 库名使用snake_case（如：firebase_auth）
5. 包名使用snake_case（如：package:firebase_auth）

## 注释规范

1. 为所有公开API添加文档注释
2. 使用///进行文档注释
3. 使用//进行非文档注释
4. 避免不必要的注释，好的代码应该是自解释的

## 代码结构

1. 在类顶部声明静态变量和常量
2. 接着是实例变量
3. 然后是构造函数
4. 最后是方法
5. 遵循单一职责原则，每个类和方法只负责一件事

## 测试规范

1. 遵循"Arrange-Act-Assert"模式编写测试
2. 每个测试应该只测试一个方面
3. 测试名称应该清晰描述测试内容
4. 使用适当的断言方法以获得更好的错误消息

## 最佳实践

1. 优先使用const构造函数
2. 明确声明变量类型，除非类型非常明显
3. 避免使用var，除非类型推断非常明显
4. 优先使用final变量
5. 尽可能将Widget拆分为小部件以提高可重用性
6. 保持StatelessWidget真正无状态
